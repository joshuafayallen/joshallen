{
  "hash": "2e3cfca889a8f74d0f56e8b3a7657d09",
  "result": {
    "markdown": "---\ntitle: \"What to do when you break R\"\ndate: 2022-01-01\ndescription: \"What happens when you keep getting c stack usage errors \"\ncategories:\n  - r\n  - zsh\n---\n\n\n\nHi all, when I first stated using `R` I tried making my website using `blogdown`. While [Alison Hill PhD](https://www.apreshill.com/blog/2020-12-new-year-new-blogdown/) provides an\nexcellent intro to launching your website. However, I am truly special and managed to mess this process up. For a few days whenever I did anything more computationally intensive than \n\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(list=ls())\nlibrary(tidyverse)\n```\n:::\n\n\n\nI would get a nasty error message saying \"c stack usage is too close to the limit\" and I could not do anything. This would have been fine but at the time I was still taking classes and need to have `R` working to complete the problem sets.\n\nSo what did I do to get in the c stack death spiral and how did it end up being fixed? For the former you should not skip steps in [Dr. Hill's](https://www.apreshill.com/blog/2020-12-new-year-new-blogdown/) post. For the later  well to spare you the long arduous process here is what we tried. \n\n- me consulting stackoverflow & realizing I really f****k up\n- restarting my computer\n- uninstalling & reinstalling blogdown\n- uninstalling & reinstalling R\n- uninstalling & reinstalling pandocs\n\nAfter hours of trouble shooting #rstats twitter came to the rescue when this distress signal was sent out. \n\n\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw\">#rstats</a> world! I have a student who is getting a &quot;c stack usage is too close to the limit&quot; every time when using knitr (even with an R-chunk-free Rmd file) &amp; getting same error when trying to install anything with devtools or remotes. We&#39;ve un/reinstalled R but no luck. Ideas?</p>&mdash; Andrew Heiss (üêò @andrew@fediscience.org) (@andrewheiss) <a href=\"https://twitter.com/andrewheiss/status/1358492134039511040?ref_src=twsrc%5Etfw\">February 7, 2021</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\nSo here is what ended up working. To start you will need a super simple Rmd file to test with in a local directory. I suggest starting a new Rmd file with nothing in it other than the default YAML header and \"test\" in the main body or \"Lorem Ipsum\" if you feel fancy. \n\n\nIn the terminal run the following code\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~ \n\nls -la\n\n```\n:::\n\n\n\n\n\nThen look for files starting with a period. Okay if you messed up in the initial blogdown setup you are looking for the \".Rprofile\" that is causing you the problem. What ended up happening is that you broke all of R by including a recursive function. So restarting and uninstalling R will not kill the function it will be there \n\n<center>\n\n![](https://media.giphy.com/media/l4FB8FfpphPmxdTkA/giphy.gif)\n\n</center>\n\n\nWhat you are going to do is open a terminal in Rstudio or otherwise than start running this.\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncat.Rprofile\n```\n:::\n\n\nthan run \n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncat.zshrc\n```\n:::\n\n\n\nthan after that run \n\n```\nmv. Rprofile .Rprofile-original\n```\n\n\nThen close out Rstudio and reopen Rstudio. Then try to knit your super simple Rmd file and install a package and doing something fun! Than knit that file.\n\nHopefully the dreaded C stack usage error is gone. If it is than celebrate\n<center>\n\n![](https://media.giphy.com/media/d86kftzaeizO8/giphy.gif)\n\n</center>\n\nbecause you can use `R` again!!!!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}